<!DOCTYPE html>
<html lang="en">
  <head>
    <!--# include file="/templates/header.html" -->
    <title>Egison Libraries - core/colection.egi</title>
  </head>
  <body>
    <!--# include file="/templates/navbar.html" -->

    <div class="container manual">

      <div class="row">

        <div class="col-md-12" id="top" role="complementary">
          <h1>Collection Core Library Functions</h1>
        </div>

      </div>

      <div class="row" style="padding-top:30px;">

        <div class="col-md-12">

          <!--# include file="/templates/tables/collection.html" -->
    
        </div>
        
<hr/>
        
        <div class="col-md-12" role="main">

<h2 id="matchers">Matchers</h2>

<dl>
  
<dt><code>list</code></dt>
<dd><textarea class="code">(match {1 2 3} (list integer)
  {[,{@{@{1}} @{2 @{3}}} #t]
   [_ #f]});=>#t

(match {} (list integer)
  {[<nil> #t]
   [_ #f]});=>#t

(match {1} (list integer)
  {[<nil> #f]
   [_ #t]});=>#t

(match {1 2 3} (list integer)
  {[<cons $n $ns> [n ns]]})
;=>[1 {2 3}]

(match {1 2 3} (list integer)
  {[<snoc $n $ns> [n ns]]})
;=>[3 {1 2}]

(match-all {1 2 3} (list integer)
  [<join $xs $ys> [xs ys]])
;=>{[{} {1 2 3}] [{1} {2 3}] [{1 2} {3}] [{1 2 3} {}]}

(match-all {1 2 3} (list integer)
  [<nioj $xs $ys> [xs ys]])
;=>{[{} {1 2 3}] [{3} {1 2}] [{2 3} {1}] [{1 2 3} {}]}</textarea></dd>

<dt><code>multiset</code></dt>
<dd><textarea class="code">(match {} (multiset integer)
  {[<nil> #t]
   [_ #f]});=>#t

(match {1} (multiset integer)
  {[<nil> #f]
   [_ #t]});=>#t

(match-all {1 2 3} (multiset integer)
  [<cons $n $ns> [n ns]])
;=>{[1 {2 3}] [2 {1 3}] [3 {1 2}]}

(match {1 2 3} (multiset integer)
  {[<cons ,2 $ns> ns]})
;=>{1 3}

(match-all {1 2 3} (multiset integer)
  [<join $xs $ys> [xs ys]])
;=>{[{} {1 2 3}] [{1} {2 3}] [{2} {1 3}] [{3} {1 2}] [{1 2} {3}] [{1 3} {2}] [{2 3} {1}] [{1 2 3} {}]}

(match {1 2 3} (multiset integer)
  {[<join ,{1 3} $ns> ns]})
;=>{2}

(match-all {1 2 3} (multiset integer)
  [<join ,{1 5 3} $ys> ys])
;=>{}</textarea></dd>

<dt><code>set</code></dt>
<dd><textarea class="code">(match {} (set integer)
  {[<nil> #t]
   [_ #f]});=>#t

(match {1} (set integer)
  {[<nil> #f]
   [_ #t]});=>#t

(match-all {1 2 3} (set integer)
  [<cons $n $ns> [n ns]])
;=>{[1 {1 2 3}] [2 {1 2 3}] [3 {1 2 3}]}

(match {1 2 3} (set integer)
  {[<cons ,2 $ns> ns]})
;=>{1 2 3}

(match-all {1 2 3} (set integer)
  [<join $xs $ys> [xs ys]])
;=>{[{} {1 2 3}] [{1} {1 2 3}] [{2} {1 2 3}] [{3} {1 2 3}] [{1 2} {1 2 3}] [{1 3} {1 2 3}] [{2 1} {1 2 3}] [{2 3} {1 2 3}] [{3 1} {1 2 3}] [{1 2 3} {1 2 3}] [{3 2} {1 2 3}] [{1 3 2} {1 2 3}] [{2 1 3} {1 2 3}] [{2 3 1} {1 2 3}] [{3 1 2} {1 2 3}] [{3 2 1} {1 2 3}]}

(match-all {1 2 3} (set integer)
  [<join ,{1 3} $ys> ys])
;=>{{1 2 3}}

(match-all {1 2 3} (set integer)
  [<join ,{1 5 3} $ys> ys])
;=>{}</textarea></dd>

</dl>

<h2 id="lists">Lists</h2>

<dl>
  
<dt><code>nth</code></dt>
<dd><textarea class="code">(nth 1 {1 2 3});=>1</textarea></dd>

<dt><code>take</code></dt>
<dd><textarea class="code">(take 2 {1 2 3});=>{1 2}</textarea></dd>

<dt><code>drop</code></dt>
<dd><textarea class="code">(drop 2 {1 2 3});=>{3}</textarea></dd>

<dt><code>take-and-drop</code></dt>
<dd><textarea class="code">(take-and-drop 2 {1 2 3});=>[{1 2} {3}]</textarea></dd>

<dt><code>while</code></dt>
<dd><textarea class="code">(while (lt? $ 10) primes);=>{2 3 5 7}</textarea></dd>

<dt><code>cons</code></dt>
<dd><textarea class="code">(cons 1 {2 3});=>{1 2 3}</textarea></dd>

<dt><code>car</code></dt>
<dd><textarea class="code">(car {1 2 3});=>1</textarea></dd>

<dt><code>cdr</code></dt>
<dd><textarea class="code">(cdr {1 2 3});=>{2 3}</textarea></dd>

<dt><code>rac</code></dt>
<dd><textarea class="code">(rac {1 2 3});=>3</textarea></dd>

<dt><code>rdc</code></dt>
<dd><textarea class="code">(rdc {1 2 3});=>{1 2}</textarea></dd>

<dt><code>length</code></dt>
<dd><textarea class="code">(length {1 2 3});=>3</textarea></dd>

<dt><code>map</code></dt>
<dd><textarea class="code">(map (* $ 2) {1 2 3});=>{2 4 6}</textarea></dd>

<dt><code>map2</code></dt>
<dd><textarea class="code">(map2 (* $ $) {1 2 3} {10 20 30});=>{10 40 90}</textarea></dd>

<dt><code>filter</code></dt>
<dd><textarea class="code">(let {[$odd? (lambda [$n] (eq? (modulo n 2) 1))]}
  (filter odd? {1 2 3}));=>{1 3}</textarea></dd>

<dt><code>zip</code></dt>
<dd><textarea class="code">(zip {1 2 3} {10 20 30});=>{[1 10] [2 20] [3 30]}</textarea></dd>

<dt><code>lookup</code></dt>
<dd><textarea class="code">(lookup 2 {[1 10] [2 20] [3 30]});=>20</textarea></dd>

<dt><code>foldr</code></dt>
<dd><textarea class="code">(foldr (lambda [$n $ns] {n @ns}) {} {1 2 3});=>{1 2 3}</textarea></dd>

<dt><code>foldl</code></dt>
<dd><textarea class="code">(foldl (lambda [$ns $n] {n @ns}) {} {1 2 3});=>{3 2 1}</textarea></dd>

<dt><code>scanl</code></dt>
<dd><textarea class="code">(scanl (lambda [$r $n] (* r n)) 2 {2 2 2});=>{2 4 8 16}</textarea></dd>

<dt><code>append</code></dt>
<dd><textarea class="code">(append {1 2} {3 4 5});=>{1 2 3 4 5}</textarea></dd>

<dt><code>concat</code></dt>
<dd><textarea class="code">(concat {{1 2} {3 4 5}});=>{1 2 3 4 5}</textarea></dd>

<dt><code>reverse</code></dt>
<dd><textarea class="code">(reverse {1 2 3});=>{3 2 1}</textarea></dd>

<dt><code>intersperse</code></dt>
<dd><textarea class="code">(intersperse {0} {{1 2} {3 3} {4} {}});=>{{1 2} {0} {3 3} {0} {4} {0} {}}</textarea></dd>

<dt><code>intercalate</code></dt>
<dd><textarea class="code">(intercalate {0} {{1 2} {3 3} {4} {}});=>{1 2 0 3 3 0 4 0}</textarea></dd>

<dt><code>split</code></dt>
<dd><textarea class="code">(split {0} {1 2 0 3 3 0 4 0});=>{{1 2} {3 3} {4} {}}</textarea></dd>

<dt><code>split/m</code></dt>
<dd><textarea class="code">(split/m integer {0} {1 2 0 3 3 0 4 0});=>{{1 2} {3 3} {4} {}}</textarea></dd>

<dt><code>find-cycle</code></dt>
<dd><textarea class="code">(find-cycle {1 3 4 5 2 7 5 2 7 5 2 7});=>[{1 3 4} {5 2 7}]</textarea></dd>

<dt><code>repeat</code></dt>
<dd><textarea class="code">(take 5 (repeat {1 2 3}));=>{1 2 3 1 2}</textarea></dd>

<dt><code>repeat1</code></dt>
<dd><textarea class="code">(take 5 (repeat1 2));=>{2 2 2 2 2}</textarea></dd>

<dt><code>all</code></dt>
<dd><textarea class="code">(all (eq? $ 1) {1 1 1});=>#t

(all (eq? $ 1) {1 1 2});=>#f</textarea></dd>

<dt><code>any</code></dt>
<dd><textarea class="code">(any (eq? $ 1) {0 1 0});=>#t

(any (eq? $ 1) {0 0 0});=>#f</textarea></dd>

<dt><code>from</code></dt>
<dd><textarea class="code">(take 3 (from 2));=>{2 3 4}</textarea></dd>

<dt><code>between</code></dt>
<dd><textarea class="code">(between 2 5);=>{2 3 4 5}</textarea></dd>

</dl>

<h2 id="multisets">Multisets</h2>

<dl>
  
<dt><code>add</code></dt>
<dd><textarea class="code">(add 1 {2 3});=>{2 3 1}

(add 1 {1 2 3});=>{1 2 3}</textarea></dd>

<dt><code>add/m</code></dt>
<dd><textarea class="code">(add/m integer 1 {2 3});=>{2 3 1}

(add/m integer 1 {1 2 3});=>{1 2 3}</textarea></dd>

<dt><code>delete-first</code></dt>
<dd><textarea class="code">(delete-first 2 {1 2 3 2});=>{1 3 2}</textarea></dd>

<dt><code>delete-first/m</code></dt>
<dd><textarea class="code">(delete-first/m integer 2 {1 2 3 2});=>{1 3 2}</textarea></dd>

<dt><code>delete</code></dt>
<dd><textarea class="code">(delete 2 {1 2 3 1 2 3});=>{1 3 1 3}</textarea></dd>

<dt><code>delete/m</code></dt>
<dd><textarea class="code">(delete/m integer 2 {1 2 3 1 2 3});=>{1 3 1 3}</textarea></dd>

<dt><code>difference</code></dt>
<dd><textarea class="code">(difference {1 2 3} {1 3});=>{2}</textarea></dd>

<dt><code>difference/m</code></dt>
<dd><textarea class="code">(difference/m integer {1 2 3} {1 3});=>{2}</textarea></dd>

<dt><code>union</code></dt>
<dd><textarea class="code">(union {1 2 3} {1 3 4});=>{1 2 3 4}</textarea></dd>

<dt><code>union/m</code></dt>
<dd><textarea class="code">(union/m integer {1 2 3} {1 3 4});=>{1 2 3 4}</textarea></dd>

<dt><code>intersect</code></dt>
<dd><textarea class="code">(intersect {1 2 3} {1 3 4});=>{1 3}</textarea></dd>

<dt><code>intersect/m</code></dt>
<dd><textarea class="code">(intersect/m integer {1 2 3} {1 3 4});=>{1 3}</textarea></dd>

<dt><code>member?</code></dt>
<dd><textarea class="code">(member? 1 {1 3 1 4});=>#t

(member? 2 {1 3 1 4});=>#f</textarea></dd>

<dt><code>member?/m</code></dt>
<dd><textarea class="code">(member?/m integer 1 {1 3 1 4});=>#t

(member?/m integer 2 {1 3 1 4});=>#f</textarea></dd>

<dt><code>count</code></dt>
<dd><textarea class="code">(count 1 {1 3 1 4});=>2</textarea></dd>

<dt><code>count/m</code></dt>
<dd><textarea class="code">(count/m integer 1 {1 3 1 4});=>2</textarea></dd>

<dt><code>frequency</code></dt>
<dd><textarea class="code">(frequency {1 3 1 4});=>{[1 2] [3 1] [4 1]}</textarea></dd>

<dt><code>frequency/m</code></dt>
<dd><textarea class="code">(frequency/m integer {1 3 1 4});=>{[1 2] [3 1] [4 1]}</textarea></dd>

</dl>

<h2 id="sets">Sets</h2>

<dl>
  
<dt><code>unique</code></dt>
<dd><textarea class="code">(unique {1 2 3 2 1 4});=>{1 2 3 4}</textarea></dd>

<dt><code>unique/m</code></dt>
<dd><textarea class="code">(unique/m integer {1 2 3 2 1 4});=>{1 2 3 4}</textarea></dd>

</dl>

<h2 id="next">What to do next...</h2>

<p>
  <a class="btn btn-lg btn-primary" href="/" role="button">Back to Home</a>
</p>
        </div>

      </div><!--/row-->
    
      <hr class="divider">
      
      <div class="row">
        <!--# include file="/templates/disqus-main.html" -->
      </div><!--/row-->
      
    </div><!-- /.container -->
    
    <!--# include file="/templates/footer.html" -->
    <script>
      $('.code').each(function() {
        var $this = $(this);
        var myCodeMirror = CodeMirror.fromTextArea(this, {
          readOnly: true,
          lineWrapping: true
        });
      });
    </script>
  </body>
</html>
